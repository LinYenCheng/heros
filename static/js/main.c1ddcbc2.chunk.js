(window.webpackJsonpheros=window.webpackJsonpheros||[]).push([[0],{44:function(e,t,n){e.exports=n(80)},49:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(38),c=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(15),l=n(10),s=n(9),m=n(8),u=n.n(m),p=(n(49),n(39)),f=n.n(p),h=n(40),d=!1;var b=f.a.create({baseURL:"https://hahow-recruit.herokuapp.com",timeout:8e3,responseType:"json"});b.interceptors.response.use(function(e){return function(e){return 200===e.status&&(e.data||e.statusText)}(Object(h.camelizeKeys)(e))},function(e){return e.response?(500===e.response.status&&(d||u()({type:"error",title:"\u9023\u7dda\u6216\u4f3a\u670d\u5668\u767c\u751f\u932f\u8aa4",showConfirmButton:!1,showCloseButton:!0,onClose:function(){d=!1}})),!1):Promise.reject(e)});var E=b,v=n(12),w=n.n(v);var y=function(e){var t=e.skill,n=e.nowProfile,a=e.setNowProfile,o=e.experiencePoint,c=e.addExperiencePoint,i=e.reduceExperiencePoint,l=w()({skill__value:!0,"color--warn":n[t]<4});function s(e){u()({type:"info",title:e,showConfirmButton:!1,showCloseButton:!0,timer:1e3})}return r.a.createElement("div",{className:"skill__container"},r.a.createElement("span",{className:"skill__title"},t.toUpperCase()),r.a.createElement("button",{type:"button",className:"btn skill__button",onClick:function(){var e=JSON.parse(JSON.stringify(n));o>0?(e[t]+=1,a(e),i()):s("\u8acb\u5148\u6e1b\u5c11\u5176\u4ed6\u9ede\u6578")}},r.a.createElement("span",{className:"glyphicon glyphicon-plus"})),r.a.createElement("span",{className:l},n[t]),r.a.createElement("button",{type:"button",className:"btn skill__button",onClick:function(){var e=JSON.parse(JSON.stringify(n));e[t]>0?(e[t]-=1,a(e),c()):s("\u6280\u80fd\u9ede\u6578\u4e0d\u80fd\u70ba\u8ca0")}},r.a.createElement("span",{className:"glyphicon glyphicon-minus"})))};var N=function(e){var t=Object(a.useState)(e),n=Object(s.a)(t,2),r=n[0],o=n[1];return{reset:function(){return o(0)},count:r,increment:function(){return o(r+1)},decrement:function(){return o(r-1)}}},O=n(29),k=n(28);function j(e){var t={};return Object.keys(e).forEach(function(n){t[n.toUpperCase()]=e[n]}),t}var g=function(e){var t=e.nowProfile,n=Object.keys(t),a=Math.max.apply(Math,Object(O.a)(n.map(function(e){return t[e]}))),o=[j(t)],c=n.map(function(e){return{name:e.toUpperCase(),domain:[0,a],tickFormat:function(e){return parseInt(e,10)}}});return r.a.createElement(k.b,{data:o,domains:c,color:"#00bea4",margin:{left:30,top:30,bottom:30,right:30},width:250,height:250},r.a.createElement(k.a,{tickValues:Object(O.a)(new Array(a)).map(function(e,t){return t/10-1})}))};var _=function(e){var t=e.match.params.heroId,n=Object(a.useState)(!0),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(!1),m=Object(s.a)(l,2),p=m[0],f=m[1],h=Object(a.useState)(!1),d=Object(s.a)(h,2),b=d[0],v=d[1],O=N(0),k=O.count,j=O.increment,_=O.decrement,C=O.reset,x=w()({"color--warn":0!==k,center:!0}),P=w()({btn:!0,"btn-default":!0,"cursor--not-allowed":0!==k}),B="",S="\u5132\u5b58";return Object(a.useEffect)(function(){p&&E.patch("/heroes/".concat(t,"/profile"),b).then(function(e){"OK"===e&&u()({type:"success",title:"\u4fee\u6539\u6210\u529f",showConfirmButton:!1,showCloseButton:!1,timer:1e3,onClose:function(){f(!1),v(b),C()}})})}),Object(a.useEffect)(function(){t&&(i(!0),E.get("/heroes/".concat(t,"/profile")).then(function(e){v(e),i(!1),C()}))},[t]),0!==k&&(S="\u5c1a\u6709\u9ede\u6578"),!b||c||p||(B=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm-12 col-md-8"},r.a.createElement("div",{className:"div--inline-block"},Object.keys(b).map(function(e){return r.a.createElement(y,{key:e,skill:e,experiencePoint:k,nowProfile:b,setNowProfile:v,addExperiencePoint:j,reduceExperiencePoint:_})})),r.a.createElement("div",{className:"div--inline-block center mobile--hide",style:{verticalAlign:"top",marginLeft:"15px"}},r.a.createElement(g,{nowProfile:b}))),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement("div",{className:"profile__form"},r.a.createElement("h4",null,r.a.createElement("span",null,"\u5269\u9918\u9ede\u6578:"),r.a.createElement("span",{className:x,style:{minWidth:"40px",display:"inline-block"}},k)),r.a.createElement("button",{type:"button",className:P,title:S,onClick:function(){0===k?f(!0):u()({type:"info",title:"\u5c1a\u6709\u9ede\u6578",showConfirmButton:!1,showCloseButton:!0,timer:1e3})}},S))))),r.a.createElement("div",{className:"row profile__container"},B)};var C=Object(l.f)(function(e){var t=e.hero,n=t.id,a=t.name,o=t.image,c=w()({thumbnail:!0,hero__card:!0,"hero__card--select":function(){var t=e.history.location.pathname,n=Object(l.e)(t,{path:"/heros/:heroId"}),a=0;return n&&n.params.heroId&&(a=n.params.heroId),a}()===n});return r.a.createElement(i.b,{to:"/heros/".concat(n)},r.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-3 padding--mobile"},r.a.createElement("div",{className:c},r.a.createElement("div",{className:"card__image-container"},r.a.createElement("img",{src:o.replace("http","https"),alt:"..."})),r.a.createElement("div",{className:"caption center"},r.a.createElement("h3",null,a)))))});var x=Object(l.f)(function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],c=n[1],i=e.match.url,m="";return Object(a.useEffect)(function(){E.get("/heroes").then(function(e){e&&(c(e),u()({type:"success",title:"\u9078\u64c7\u82f1\u96c4",text:"\u9032\u884c\u6280\u80fd\u9ede\u6578\u5206\u914d",showConfirmButton:!1,showCloseButton:!0,timer:3e3}))})},[]),o&&o.length&&(m=o.map(function(e){var t=e.id;return r.a.createElement(C,{key:t,hero:e})})),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},m),r.a.createElement(l.b,{path:"".concat(i,"/:heroId"),component:_}))}),P=function(){return r.a.createElement(i.a,null,r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return r.a.createElement(l.a,{to:"/heros"})}}),r.a.createElement(l.b,{path:"/heros",component:x}))};c.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.c1ddcbc2.chunk.js.map